{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["export class FilterBuilder {\n  constructor(data) {\n    this.data = data;\n    this.query = \"\";\n    this.orWhere = this.orWhere.bind(this);\n    this.where = this.where.bind(this);\n    this.get = this.get.bind(this);\n  }\n\n  where(...query) {\n    if (this.query.slice(-1).includes(\")\")) {\n      this.query += \" && \";\n    }\n    if (typeof query[0] === \"function\") {\n      this.query += \"(\";\n      query[0](this);\n      this.query += \")\";\n    } else {\n      if (query.length === 1) {\n        this.query += `(item.${query[0]})`;\n      } else if (query.length === 2) {\n        this.query += `(item.${query[0]} == '${query[1]}')`;\n      } else if (query.length === 3) {\n        this.query += `(item.${query[0]} ${query[1]} '${query[2]}')`;\n      }\n    }\n    return this;\n  }\n\n  orWhere(...query) {\n    this.query += \" || \";\n    return this.where(...query);\n  }\n\n  whereIncludes(list, key, value) {\n    this.query += `(item.${list} ? item.${list}.some(element => element.${key} === '${value}') : false)`;\n    return this\n  }\n\n  orWhereIncludes(list, key, value) {\n    this.query += \" || \";\n    this.query += `(item.${list} ? item.${list}.some(element => element.${key} === '${value}') : false)`;\n    return this\n  }\n\n  stripEmpties() {\n    this.query = this.query.replace(/&& \\(\\)/g, \"\");\n    this.query = this.query.replace(/\\(\\)  &&/g, \"\");\n  }\n  get() {\n    this.stripEmpties();\n    console.log(this.query);\n    return this.data.filter(item => {\n      return new Function(\"item\", `\"use strict\";return ${this.query};`)(item);\n    });\n  }\n}"],"names":["FilterBuilder","constructor","data","query","orWhere","this","bind","where","get","slice","includes","length","whereIncludes","list","key","value","orWhereIncludes","stripEmpties","replace","console","log","filter","item","Function"],"mappings":"IAAaA,EACXC,SAAYC,QACLA,KAAOA,OACPC,MAAQ,QACRC,QAAUC,KAAKD,QAAQE,KAAKD,WAC5BE,MAAQF,KAAKE,MAAMD,KAAKD,WACxBG,IAAMH,KAAKG,IAAIF,KAAKD,mBAG3BE,+EACMF,KAAKF,MAAMM,OAAO,GAAGC,SAAS,YAC3BP,OAAS,QAEQ,mBAAbA,EAAM,SACVA,OAAS,IACdA,EAAM,GAAGE,WACJF,OAAS,KAEO,IAAjBA,EAAMQ,YACHR,OAAU,SAAQA,EAAM,OACH,IAAjBA,EAAMQ,YACVR,OAAU,SAAQA,EAAM,WAAUA,EAAM,QACnB,IAAjBA,EAAMQ,cACVR,OAAU,SAAQA,EAAM,OAAMA,EAAM,QAAOA,EAAM,SAGnDE,kBAGTD,wFACOD,OAAS,UACPE,MAAKE,cAASJ,gBAGvBS,uBAAcC,EAAMC,EAAKC,eAClBZ,OAAU,SAAQU,aAAeA,8BAAgCC,WAAYC,gBAC3EV,kBAGTW,yBAAgBH,EAAMC,EAAKC,eACpBZ,OAAS,YACTA,OAAU,SAAQU,aAAeA,8BAAgCC,WAAYC,gBAC3EV,kBAGTY,6BACOd,MAAQE,KAAKF,MAAMe,QAAQ,WAAY,SACvCf,MAAQE,KAAKF,MAAMe,QAAQ,UAAa,iBAE/CV,sCACOS,eACLE,QAAQC,IAAIf,KAAKF,OACVE,KAAKH,KAAKmB,gBAAOC,UACf,IAAIC,SAAS,8BAA+BlB,YAA5C,CAA2DiB"}